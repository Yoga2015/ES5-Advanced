<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>分析Set数据结构</title>
</head>

<body>

  Set 是 ES6 提供的一种新的 数据结构 ，它类似于数组，但是 成员的值 都是 唯一的，没有重复的值。<br><br>

  Set 数据结构 和 数组 的区别 ：Set 数据结构 不会 存储(添加) 重复的值。<br><br>

  Set 数据结构 的 实例对象 有以下属性：<br><br>
  1.Set.prototype.constructor：构造函数，默认就是Set函数。<br><br>
  2.Set.prototype.size：返回Set实例的成员总数。<br><br>

  Set 数据结构 的 实例对象 有以下方法：<br><br>
  1.Set.prototype.add(value)：添加某个值，返回 Set 结构本身。<br><br>
  2.Set.prototype.delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。<br><br>
  3.Set.prototype.has(value)：返回一个布尔值，表示该值是否为Set的成员。<br><br>
  4.Set.prototype.clear()：清除所有成员，没有返回值。<br><br>

  Set 数据结构 的 实例对象 有四个遍历方法，可以用于遍历 成员。<br><br>
  - Set.prototype.keys()：返回 键名 的 遍历器<br><br>
  - Set.prototype.values()：返回 键值 的 遍历器<br><br>
  - Set.prototype.entries()：返回 键值对 的 遍历器<br><br>
  - Set.prototype.forEach()：使用 回调函数 遍历 每个成员<br><br>

  <script>

    //1、 创建 Set 数据结构
    const s = new Set();

    [2, 3, 5, 4, 5, 2, 2].forEach(x => s.add(x));

    for (let i of s) {
      console.log(i);   // 2 3 5 4
    }

    // Set 本身 也是一个 构造函数，创建 Set构造函数的实例对象  就是在 创建 Set结构 了 

    // Set 构造函数 可以接收一个数组(或者 具有 iterable 接口 的其他数据结构) 作为 参数，用来 初始化。

    const s1 = new Set([1, 2, 2, 3, 4, 4]);

    //  利用 扩展运算符 和 Set 结构相结合，就可以 去除 数组中的重复成员  （数组去重）
    console.log([...s1])    // [1, 2, 3, 4]


    const s2 = new Set(['aaa', 'bbb', 'ccc'])

    for (let i of s2) {
      console.log(i);   // aaa    bbb    ccc
    }


    const s3 = new Set();

    // add(value)：添加某个值，返回 Set 结构本身。
    s3.add(1);
    console.log(s3);  // {1}
    s3.add(2).add(3).add(4).add(4);   // 注意 4 被加入了两次
    console.log(s3);  // Set(4) {1, 2, 3, 4}
    console.log(s3.size);  // 已去重，所以是 4 

    //delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。
    s3.delete(4);  // true
    console.log(s3);  // Set(3) {1, 2, 3}
    s3.delete('k');  //false

    //has(value) : 返回一个布尔值，表示该值是否为 Set 的成员
    console.log(s3.has(3));   // true

    // clear() : 清楚所有成员，没有返回值
    s3.clear();
    console.log(s3.size);   // 0



    const set = new Set(['aaa', 'bbb', 'ccc'])
    for (let i of set) {
      console.log(i);   // aaa    bbb    ccc
    }

    for (let item of set.keys()) {
      console.log(item);    // aaa    bbb    ccc
    }

    for (let item of set.values()) {
      console.log(item);   // aaa    bbb    ccc
    }

    // 返回 键值对 的 遍历器
    for (let item of set.entries()) {
      console.log(item);    // (2) ['aaa', 'aaa'] 、  (2) ['bbb', 'bbb'] 、 (2) ['ccc', 'ccc']
    }


  </script>

</body>

</html>