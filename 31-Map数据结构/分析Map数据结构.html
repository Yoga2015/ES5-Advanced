<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  出现Map数据结构的原因<br><br>

  JavaScript 的 对象（Object），本质上是 键值对 的 集合（Hash 结构），但是 传统上 只能用 字符串 当作 键,

  这给它的使用带来了很大的限制, 为了解决这个问题，ES6 提供了 Map 数据结构 , Map 就像 升级版 的 对象（Object）。<br><br>


  Map 类似于 对象，也是 键值对 的集合，但是 “ 键 ” 的范围 不限于 字符串，可以是 任意类型，包括：对象、函数、数组、字符串、数字、布尔值、Symbol， 但 不建议使用 null 或 undefined 作为
  键。<br><br>

  Map 只不过 比 对象 更强大的是，这个 “ 键 ” 可以是 不同类型的 。<br><br>

  也就是说，Object 结构 提供了 “字符串 — 值” 的对应，Map 结构提供了 “值 — 值” 的对应，是一种更完善的 Hash 结构实现。<br><br>

  如果你需要 “键值对” 的 数据结构，Map 比 Object 更合适。 推荐使用 new Map() 来代替 new Object()<br><br>


  <div id="myDiv"></div>

  <script>

    // 使用字符串作为键  
    let map = new Map();
    map.set('key1', 'value1');
    console.log(map.get('key1')); // 输出: value1  

    // 使用数字作为键  
    map.set(1, 'value2');
    console.log(map.get(1)); // 输出: value2  

    // 使用布尔值作为键  
    map.set(true, 'value3');
    console.log(map.get(true)); // 输出: value3  

    // 使用对象作为键  
    let obj = {};
    map.set(obj, 'value4');
    console.log(map.get(obj)); // 输出: value4  

    // 使用数组作为键  
    let arr = [1, 2, 3];
    map.set(arr, 'value5');
    console.log(map.get(arr)); // 输出: value5  

    // 使用函数作为键  
    function keyFunction() { }
    map.set(keyFunction, 'value6');
    console.log(map.get(keyFunction)); // 输出: value6  

    // 使用Symbol作为键  
    let sym = Symbol('key');
    map.set(sym, 'value7');
    console.log(map.get(sym)); // 输出: value7  

    // 注意：虽然技术上可以，但不建议使用null或undefined作为键
    // map.set(null, 'value8'); // 这样做是可以的，但需要小心处理
    // map.set(undefined, 'value9'); // 直接这样做会报错，因为undefined不能作为set的参数




    const data = {};

    const element = document.getElementById('myDiv');

    // 当 data对象中 没有 element 时， data[element]  指的是 给 data对象中 添加了一个 element 属性，
    // 属性 作为 key （键） , 属性值 作为 value（值）
    data[element] = 'metadata';

    console.log(data[element]);  // "metadata"

    console.log(data['[object HTMLDivElement]']);  // "metadata"


    // 1、创建 Map实例对象   set() 的 语法： m.set( 键 , 值 )   get的语法： get( 键 )  
    let map1 = new Map();

    // 2、设置(添加)键值对     原来没有,就是添加;  原来有 就是 重新赋值  
    map1.set(name, 'lisi');

    console.log(map1);

  </script>

  <script>

    let m = new Map();     // 创建 Map实例对象

    let obj1 = { p: 'Hello World' };   // obj 对象

    // 向 Map实例对象 m  添加成员 obj，此时 obj 作为 key ，并将 content 赋值给 obj， 此时 content 作为 obj 的 值
    m.set(obj1, 'content');

    m.get(obj1)  // "content"

    m.has(obj1)    // true  判断 是否 有  o  这个键

    m.delete(obj1) // true

    m.has(obj1)    // false

  </script>

  <script>

    const s = new Set([1, 2, 2, 3, 4, 5, 5, 6]);

    s.forEach(value => {
      console.log(value);  // 1  2  3  4  5  6
    });

    const set = new Set(['aaa', 'bbb', 'ccc'])
    for (let i of set) {
      console.log(i);   // aaa    bbb    ccc
    }


    for (let item of set.entries()) {
      console.log(item);
    }

  </script>

</body>

</html>